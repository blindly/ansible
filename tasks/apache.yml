---
- hosts: localhost
  tasks:
    - name: HTTP Install For Ubuntu
      package:
        name: apache2
        state: latest
        when: ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu'
    - name: Start HTTP for Ubuntu
      service:
        name: apache2
        state: started
        enabled: yes
        when: ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu'
    - name: HTTP Install For RedHat
      package:
        name: httpd
        state: latest
        when: ansible_distribution == 'CentOS' or ansible_distribution == 'Red Hat Enterprise Linux'
    - name: Start HTTP for RedHat
      service:
        name: httpd
        state: started
        enabled: yes
        when: ansible_distribution == 'CentOS' or ansible_distribution == 'Red Hat Enterprise Linux'